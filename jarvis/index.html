<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<title>Jarvis Access</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
<style>
    html, body {
        height: 100%;
        margin: 0;
        padding: 0;
    }
    body {
        font-family: 'Roboto', Arial, sans-serif;
        background: linear-gradient(135deg, #0f2027, #2c5364 85%);
        color: #e0e0e0;
        text-align: center;
        min-height: 100vh;
        min-height: 100dvh;
        height: 100vh;
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }
    .center-wrap {
        min-height: 100vh;
        min-height: 100dvh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        flex: 1 1 auto;
    }
    h1 {
        font-family: 'Montserrat', 'Roboto', Arial, sans-serif;
        font-size: 2.7em;
        margin-bottom: 35px;
        margin-top: 0;
        letter-spacing: 2px;
        color: #00ffe7;
        text-shadow: 0 0 16px #00ffe7, 0 2px 8px #222;
    }
    .clock {
        font-family: 'Orbitron', monospace;
        font-size: 1.45em;
        letter-spacing: 2px;
        margin-bottom: 22px;
        padding: 6px 22px;
        border-radius: 15px;
        background: rgba(34,45,58,0.6);
        color: #00ffe7;
        box-shadow: 0 0 8px #00ffe7bb;
        display: inline-block;
        min-width: 190px;
        user-select: none;
        border: 1.5px solid #00ffe7;
        text-shadow: 0 2px 8px #222, 0 0 8px #00ffe799;
    }
    .input-wrap {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 18px;
        margin-top: 0;
    }
    input[type="password"] {
        padding: 14px 22px;
        font-size: 1.3em;
        border: none;
        border-radius: 25px;
        background: #222d3a;
        color: #fff;
        outline: none;
        box-shadow: 0 3px 15px #00ffe733;
        transition: box-shadow 0.2s, border 0.2s;
        font-family: 'Roboto', Arial, sans-serif;
        border: 2px solid transparent;
    }
    input[type="password"]:focus {
        box-shadow: 0 0 10px #00ffe7, 0 3px 15px #00ffe733;
    }
    input.invalid {
        border: 2px solid #ff3e6c;
        box-shadow: 0 0 18px #ff3e6cbb, 0 3px 15px #ff3e6c33;
        animation: shake 0.25s linear 1;
        background: #430018;
        color: #ffbfcf;
    }
    @keyframes shake {
        0% { transform: translateX(0); }
        20% { transform: translateX(-8px); }
        40% { transform: translateX(8px); }
        60% { transform: translateX(-6px); }
        80% { transform: translateX(6px); }
        100% { transform: translateX(0); }
    }
    .round-btn {
        width: 56px;
        height: 56px;
        border-radius: 50%;
        background: linear-gradient(135deg, #02ffe6 35%, #0a3d62 95%);
        border: none;
        color: #222d3a;
        font-size: 1.7em;
        font-family: 'Montserrat', 'Roboto', Arial, sans-serif;
        font-weight: 700;
        cursor: pointer;
        box-shadow: 0 0 16px #00ffe7, 0 3px 12px #111a;
        transition: background 0.2s, color 0.2s, box-shadow 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
        outline: none;
    }
    .round-btn:active, .round-btn:focus {
        background: linear-gradient(135deg, #00ffe7 45%, #2c5364 95%);
        color: #0a3d62;
        box-shadow: 0 0 24px #00ffe7, 0 3px 12px #222a;
    }
    .message {
        margin-top: 20px;
        font-size: 1.2em;
        color: #ff3e6c;
        font-family: 'Roboto', Arial, sans-serif;
        font-weight: 500;
        min-height: 24px;
        text-shadow: 0 2px 8px #222, 0 0 8px #ff3e6c88;
        letter-spacing: 1px;
        transition: color 0.2s;
    }
    /* Loading efekt */
    .loading {
        margin: 30px auto 0 auto;
        border: 6px solid rgba(255,255,255,0.15);
        border-top: 6px solid #00ffe7;
        border-radius: 50%;
        width: 48px;
        height: 48px;
        animation: spin 1s linear infinite;
        display: none;
        box-shadow: 0 0 18px #00ffe7aa;
    }
    @keyframes spin {
        100% { transform: rotate(360deg); }
    }
    /* Opona */
    .curtain {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: linear-gradient(150deg, #000 80%, #00ffe7 200%);
        display: flex;
        justify-content: center;
        align-items: center;
        transform: translateY(-100%);
        transition: transform 1s cubic-bezier(.6,0,.4,1);
        z-index: 999;
        flex-direction: column;
        box-shadow: 0 0 160px #00ffe788 inset;
    }
    .curtain.open {
        transform: translateY(0);
    }
    .curtain img {
        max-width: 80vw;
        max-height: 62vh;
        border-radius: 28px;
        box-shadow: 0 0 40px #00ffe7dd, 0 0 120px #0a3d62bb;
        margin-bottom: 32px;
        border: 3px solid #00ffe7;
    }
    /* Tlačítko zpět v oponě */
    #backButton {
        margin-top: 18px;
        padding: 15px 48px;
        font-size: 1.25em;
        background: linear-gradient(135deg, #222d3a 50%, #00ffe7 100%);
        color: #00ffe7;
        border: 2px solid #00ffe7;
        border-radius: 25px;
        cursor: pointer;
        font-family: 'Montserrat', 'Roboto', Arial, sans-serif;
        font-weight: 700;
        box-shadow: 0 0 20px #00ffe7aa;
        display: none;
        transition: background 0.2s, color 0.2s;
    }
    #backButton:hover, #backButton:focus {
        background: linear-gradient(135deg, #00ffe7 30%, #222d3a 100%);
        color: #222d3a;
        outline: none;
    }
    @media (max-width: 600px) {
        h1 { font-size: 2em; margin-bottom: 18px;}
        .clock { font-size: 1em; min-width: 120px; }
        .curtain img { max-width: 98vw; max-height: 40vh;}
        .curtain { padding: 0 5vw; }
        .input-wrap { flex-direction: column; gap: 14px;}
        input[type="password"] { width: 90vw; font-size: 1em;}
    }
</style>
</head>
<body>

<div class="center-wrap">
    <h1>Zadej přístupový kód pro osvobození vězně</h1>
    <div class="clock" id="clock"></div>
    <div class="input-wrap">
        <input type="password" id="codeInput" placeholder="Zadej kód" autocomplete="off" onkeydown="if(event.key==='Enter'){checkCode();}">
        <button class="round-btn" title="Potvrdit" onclick="checkCode()">
            <span>⏎</span>
        </button>
    </div>
    <div class="loading" id="loading"></div>
    <div class="message" id="message"></div>
</div>

<!-- Opona -->
<div class="curtain" id="curtain">
    <img src="jarvis.png" alt="Jarvis">
    <button id="backButton" onclick="hideCurtain()">Zpět</button>
</div>

<audio id="jarvisAudio" src="jarvis.mp3"></audio>

<script>
    const correctCode = "1234";

    // Aktualizace hodin
    function updateClock() {
        const now = new Date();
        const pad = n => n < 10 ? "0"+n : n;
        const timeStr = pad(now.getHours()) + ":" + pad(now.getMinutes()) + ":" + pad(now.getSeconds());
        const dateStr = pad(now.getDate()) + "." + pad(now.getMonth()+1) + "." + now.getFullYear();
        document.getElementById("clock").textContent = dateStr + " " + timeStr;
    }
    setInterval(updateClock, 1000);
    updateClock();

    function checkCode() {
        const inputEl = document.getElementById("codeInput");
        const input = inputEl.value;
        const message = document.getElementById("message");
        const loading = document.getElementById("loading");

        message.textContent = "";
        inputEl.classList.remove("invalid");

        if (input === correctCode) {
            loading.style.display = "block";
            setTimeout(() => {
                loading.style.display = "none";
                document.getElementById("curtain").classList.add("open");
                document.getElementById("jarvisAudio").play();
                document.getElementById("backButton").style.display = "block";
            }, 1400); // trošku kratší loading pro lepší UX
        } else {
            // Zvýraznění chybného vstupu
            message.textContent = "❌ Špatný kód! Zkus to ještě jednou.";
            inputEl.classList.add("invalid");
            inputEl.focus();
            // Krátký shake efekt
            setTimeout(() => {
                inputEl.classList.remove("invalid");
            }, 550);
        }
    }

    function hideCurtain() {
        document.getElementById("curtain").classList.remove("open");
        document.getElementById("backButton").style.display = "none";
        document.getElementById("jarvisAudio").pause();
        document.getElementById("jarvisAudio").currentTime = 0;
        document.getElementById("codeInput").value = "";
        document.getElementById("codeInput").focus();
    }
</script>

</body>
</html>